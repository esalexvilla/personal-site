---
interface TimelineItem {
  date: string;
  title: string;
  description: string[];
}

interface Props {
  items: TimelineItem[];
}

const { items } = Astro.props;
---

<div class="timeline">
  {items.map((item, index) => (
    <div class="timeline-item">
      <div class="timeline-marker"></div>
      <div class="timeline-content">
        <div class="timeline-date">{item.date}</div>
        <div class="timeline-title">{item.title}</div>
        <div class="timeline-description">{item.description.map((desc, i) => <p>{desc}</p>)}</div>
      </div>
    </div>
  ))}
</div>

<style>
	.timeline {
		display: flex;
		flex-direction: column;
		position: relative;
	}

	.timeline-item {
		display: flex;
		gap: 1rem;
		position: relative;
		padding-bottom: 1.5rem;
	}

	.timeline-item:last-child {
		padding-bottom: 0;
	}

	.timeline-item:not(:last-child)::after {
		content: '';
		position: absolute;
		left: calc(0.5rem - 1px);
		top: calc(0.5rem + 0.25rem);
		height: 100%;
		width: 2px;
		background: var(--timeline-line);
	}

	.timeline-marker {
		width: 1rem;
		height: 1rem;
		background: var(--timeline-marker-bg);
		border: 2px solid var(--timeline-marker-border);
		position: relative;
		flex-shrink: 0;
		margin-top: 0.25rem;
		z-index: 1;
	}

	.timeline-content {
		border: 2px solid var(--timeline-content-border);
		padding: 0.75rem;
		flex-grow: 1;
		background-color: var(--window-content-bg);
	}

	.timeline-date {
		font-size: 0.75rem;
		color: var(--timeline-date-color);
		margin-bottom: 0.25rem;
		font-weight: bold;
	}

	.timeline-title {
		font-weight: bold;
		margin-bottom: 0.5rem;
	}

	.timeline-description {
		font-size: 0.875rem;
		line-height: 1.4;
	}
</style>
